(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{33:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(18),s=n.n(r),i=n(8),l=n(9),o=n(11),j=n(10),h=n(0),d=function(e){Object(o.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={AllGenere:[]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://nitin-movies-app.herokuapp.com/genre").then((function(e){return e.json()})).then((function(t){e.setState({AllGenere:t})}))}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("ul",{class:"list-group",children:[Object(h.jsx)("li",{class:"list-group-item",onClick:function(t){e.props.receiveFilterData("All Genre")},children:"All Genre"},"allgenre"),this.state.AllGenere.map((function(t){return Object(h.jsx)("li",{class:"list-group-item",onClick:function(){e.props.receiveFilterData(t.name)},children:t.name},t._id)}))]})}}]),n}(c.a.Component),u=n(7);var b=function(){for(var e=document.querySelectorAll(".nav-link"),t=0;t<e.length;t++)e[t].addEventListener("click",(function(t){for(var n=0;n<e.length;n++)e[n].classList.remove("active");t.currentTarget.classList.add("active")}));return Object(h.jsx)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(h.jsxs)("div",{class:"container-fluid",children:[Object(h.jsx)("a",{class:"navbar-brand",href:"#",children:"MovieRentals"}),Object(h.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{class:"navbar-toggler-icon"})}),Object(h.jsx)("div",{class:"collapse navbar-collapse",id:"navbarNav",children:Object(h.jsxs)("ul",{class:"navbar-nav",children:[Object(h.jsx)("li",{class:"nav-item",children:Object(h.jsx)(u.b,{class:"nav-link active","aria-current":"page",to:"/",children:"Movies"})}),Object(h.jsx)("li",{class:"nav-item",children:Object(h.jsx)(u.b,{class:"nav-link",to:"/customers",children:"Customers"})}),Object(h.jsx)("li",{class:"nav-item",children:Object(h.jsx)(u.b,{class:"nav-link",to:"/rentals",children:"Rentals"})}),Object(h.jsx)("li",{class:"nav-item",children:Object(h.jsx)(u.b,{class:"nav-link",to:"login",children:"Login"})})]})})]})})};var v=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{children:["Showing ",e.noOfmovies," movies from the database"]}),Object(h.jsx)("button",{type:"button",class:"btn btn-primary mb-4",children:"New"}),Object(h.jsx)("div",{class:"input-group mb-3",children:Object(h.jsx)("input",{type:"text",class:"form-control",placeholder:"Search...",onChange:function(t){e.receiveSearchData(t.currentTarget.value)}})})]})},O=function(e){Object(o.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={allMovies:[],currentPage:1},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://nitin-movies-app.herokuapp.com/movies").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({allMovies:t}),e.props.sendData(t.length)}))}},{key:"render",value:function(){var e=this,t=[];if(t="All Genre"!=this.props.selectedgenre?this.state.allMovies.filter((function(t){return t.genre.name==e.props.selectedgenre})):this.state.allMovies,this.props.srchdata){var n=this.props.srchdata.toLowerCase();t=t.filter((function(e){return e.title.toLowerCase().includes(n)}))}for(var a=[],c=Math.ceil(t.length/5),r=1;r<=c;r++)a.push(r);var s=5*(this.state.currentPage-1),i=5*this.state.currentPage-1,l=t.slice(s,Math.min(i,t.length-1)+1);return Object(h.jsxs)("div",{children:[Object(h.jsxs)("table",{class:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"Title"}),Object(h.jsx)("th",{scope:"col",children:"Genre"}),Object(h.jsx)("th",{scope:"col",children:"Stock"}),Object(h.jsx)("th",{scope:"col",children:"Rating"}),Object(h.jsx)("th",{scope:"col"}),Object(h.jsx)("th",{scope:"col"})]})}),Object(h.jsx)("tbody",{children:l.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.title}),Object(h.jsx)("td",{children:t.genre.name}),Object(h.jsx)("td",{children:t.numberInStock}),Object(h.jsx)("td",{children:t.dailyRentalRate}),Object(h.jsx)("td",{children:Object(h.jsx)("i",{class:"far fa-heart",onClick:function(e){e.currentTarget.classList.contains("far")&&e.currentTarget.classList.contains("fa-heart")?(e.currentTarget.classList.remove("far"),e.currentTarget.classList.remove("fa-heart"),e.currentTarget.classList.add("fas"),e.currentTarget.classList.add("fa-heart")):(e.currentTarget.classList.remove("fas"),e.currentTarget.classList.remove("fa-heart"),e.currentTarget.classList.add("far"),e.currentTarget.classList.add("fa-heart"))}})}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){var n=e.state.allMovies;n=n.filter((function(e){return e._id!=t._id})),e.props.sendData(n.length),e.setState({allMovies:n})},children:"Delete"})})]},t._id)}))})]}),Object(h.jsx)("nav",{children:Object(h.jsxs)("ul",{class:"pagination",children:[Object(h.jsx)("li",{class:"page-item",onClick:function(){e.state.currentPage-1>0&&e.setState({currentPage:e.state.currentPage-1})},children:Object(h.jsx)("a",{class:"page-link",href:"#",children:"Previous"})}),a.map((function(t){return Object(h.jsx)("li",{class:"page-item",onClick:function(){e.setState({currentPage:t})},children:Object(h.jsx)("a",{class:"page-link",href:"#",children:t})})})),Object(h.jsx)("li",{class:"page-item",onClick:function(){e.state.currentPage+1<=c&&e.setState({currentPage:e.state.currentPage+1})},children:Object(h.jsx)("a",{class:"page-link",href:"#",children:"Next"})})]})})]})}}]),n}(c.a.Component),p=function(e){Object(o.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={noOfmovies:0,srch:"",genre:"All Genre"},e.receiveNoOfMovies=function(t){e.setState({noOfmovies:t})},e.receiveSearchData=function(t){e.setState({srch:t})},e.receiveFilterData=function(t){e.setState({genre:t})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsx)(c.a.Fragment,{children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-2 p-4",children:Object(h.jsx)(d,{receiveFilterData:this.receiveFilterData})}),Object(h.jsxs)("div",{className:"col-10 p-4",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-4",children:Object(h.jsx)(v,{noOfmovies:this.state.noOfmovies,receiveSearchData:this.receiveSearchData})})}),Object(h.jsx)("div",{className:"row pt-4",children:Object(h.jsx)("div",{className:"col-8",children:Object(h.jsx)(O,{sendData:this.receiveNoOfMovies,srchdata:this.state.srch,selectedgenre:this.state.genre})})})]})]})})}}]),n}(c.a.Component);var f=function(){return Object(h.jsx)("h1",{children:"Customers"})};var x=function(){return Object(h.jsx)("h1",{children:"Rentals"})};var g=function(){return Object(h.jsx)("h1",{children:"Login"})},m=n(2),k=function(e){Object(o.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={secondData:[]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://nitin-movies-app.herokuapp.com/user.json").then((function(e){return e.json()})).then((function(t){e.setState({secondData:t})}))}},{key:"render",value:function(){var e=this,t=this.state.secondData.find((function(t){return t.id==e.props.match.params.id}));return t?Object(h.jsxs)("div",{children:[Object(h.jsx)(u.b,{to:"/",children:Object(h.jsx)("button",{children:"Return"})}),Object(h.jsx)("h1",{children:t.name}),Object(h.jsxs)("h2",{children:["Age: ",t.age]}),Object(h.jsxs)("h2",{children:["Email: ",t.email]})]}):Object(h.jsx)("h1",{children:"No data found!"})}}]),n}(c.a.Component);Object(m.f)(k),c.a.Component;s.a.render(Object(h.jsxs)(u.a,{children:[Object(h.jsx)(b,{}),Object(h.jsxs)(m.c,{children:[Object(h.jsx)(m.a,{path:"/customers",children:Object(h.jsx)(f,{})}),Object(h.jsx)(m.a,{path:"/rentals",children:Object(h.jsx)(x,{})}),Object(h.jsx)(m.a,{path:"/login",children:Object(h.jsx)(g,{})}),Object(h.jsx)(m.a,{path:"/",children:Object(h.jsx)(p,{})})]})]}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.a449bbfa.chunk.js.map